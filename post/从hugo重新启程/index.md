
工作一年半了，从工作后就没怎么写过博客了，当然这一年发生了很多事，但是作为IT人不应该忘记提升自己，就从给博客换一个生成框架开始新的一年，新的学习之路吧。

# 为什么从Hexo更换为Hugo
Hexo基于node，安装时需要先安装node环境，npm服务器对国内的网络环境也不友好，Hexo版本，主题版本更新可能也会有冲突需要解决，再加上hexo的博客配置选项复杂，不想再花时间折腾了，目前想专注于博客内容，页面功能、美化则是能简则简。与Hexo相比，Hugo只是一个简简单单的exe可执行文件，主题安装和整个发版过程也是简单明了，甚合我意，一拍即合。

# Hexo切换Hugo过程
## 图片加载太慢！！
最开始，我的Hexo部署在github pages，图片也部署在github的仓库里，但国内的网络环境导致博客打开速度慢，图片加载失败。我最初的解决方案是通过cdn加速，有效但不多，最后甚至cdn也被墙了。随后，我的解决方案是寻找图片存储服务提供商：七牛云、又拍云、阿里云、腾讯云......最后选择了华为云，将git仓库里的所有图片都移植到华为云图片存储服务里，图片的问题就解决了。
## 脱离Github Page
花了点儿小钱买了华为云的3年域名，1年云服务器，干脆把Hexo静态页面弄到云服务器上吧
因为是静态页面，就用Nginx服务足矣，配置简单，同时需要在服务器上建立一个Git远程仓库（类似于GitHub的作用）
* 新建git用户，在用户家目录下创建.git文件和git仓库目录
* 随后将本地的public静态页面推送到服务器的git仓库
* 安装Nginx服务，修改/etc/nginx/nginx.conf配置文件，将访问用户改为git，同时更改server对象的配置，网站根目录改为git仓库路径
* 重启Nginx服务，并在华为云服务器管理页面放开80访问端口
## 自定义域名&备案
* 自定义域名绑定很简单，在华为云域名配置页面新建一条记录绑定服务器IP即可
* 备案就比较麻烦了，但也不难，域名和服务器提供商都是华为云的话，备案还是比较顺畅的，根据备案流程填好信息等待审核即可，如果域名和服务器提供商分属不同的服务提供商那可能就比较麻烦了
* 备案通过后需要等一天左右，通过域名就能访问个人站点了
* 备案成功后最好在网站footer写上备案类型（公安部or工信部）和备案号
## 抛弃Hexo
Hexo框架有很多优点，配置灵活，主题丰富好看。但是因为网络问题和NPM包管理我决定换一个更加简单，专注于内容的博客框架，看了几篇V站帖子，Hugo入了我的法眼。
* Github下载Hugo的扩展可执行exe文件，配置PATH环境变量
* `hugo new site xxx`：新建hugo网站框架相关文件
* `hugo new post/xxx.md`：新建一篇博文
* 选择一个主题，从github仓库clone到/themes/目录下，在config.toml文件中修改主题名为主题目录名，并根据主题的github的README文档进行简单定制
* `hugo`：渲染生成静态页面，保存在/public/目录下
* `hugo server -D`：开启hugo本地服务，预览效果
* 将华为云服务器上的博客git仓库clone到本地，将hugo渲染生成的本地静态页面文件copy到博客git本地仓库中，再add，commit，push一条龙
## 注重安全！SSL！
Nginx服务器默认提供http的80端口访问，不过Nginx一般都是默认安装了SSL模块，可以通过直接配置完成https的443端口访问，前提是要获得SSL安全证书！
* 华为云有提供免费的SSL证书，绑定域名通过后下载server.cert和server.key文件，上传到云服务器，再在/etc/nginx/nginx.conf配置文件中配置指向这两个文件
* 重启Nginx服务，并在华为云服务器管理页面放开443访问端口

## 注意：
1. 一定要记得放开服务器的常用服务端口和icmp协议限制

# 寄语
在从保定到江油的高铁上完成了这篇博客，新的一年，有机会不要错过，有挑战不要害怕。重启博客，通过写博客进行新一年的自我监督，自我记录，2023年，一定是我人生路上非常重要的一年，✊！！！